<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EchoBeat</title>
    <link rel="icon"
    href="https://s1.mzstatic.com/us/r30/Purple2/v4/db/34/15/db3415be-24cb-4dfb-59c3-ccc5780c09d8/mzl.xjazsuse.png"
    type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body>
    <audio src="./musics/Shri Krishna Govind.mp3" id="music-id"></audio>
    <div class="container-pc">
        <div class="left">
            <div class="app-name">EchoBeat</div>
            <div class="songs-container">
                <div class="list-heading">Suggested Songs</div>
                    <div class="song-list">
                        <li class="devotional" id="s1">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l1">Shri Krishna Govind</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                       <li class="devotional" id="s2"> 
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l2">Raai Jago</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                       <li class="devotional" id="s3">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l3">Krishna Bole</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                       <li class="romantic" id="s4">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l4">Mast Magan</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                       <li class="romantic" id="s5">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l5">O Rangrez</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                       <li class="romantic" id="s6">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l6">Apna Bana Le</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                       <li class="classical" id="s7">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l7">Ghar More Pardesiya</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                       <li class="classical" id="s8">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l8">Hridoyer Rong</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                       <li class="classical" id="s9">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l9">Mere Dholna</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                        <li class="classical" id="s10">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l10">Noor E Khuda</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                       <li class="retro" id="s11">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l11">Tujhse Naraz Nahi Zindagi</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li><li class="retro" id="s12">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l12">Mere Geet Amar Kardo</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li><li class="retro" id="s13">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l13">Yeh Raaten Yeh Mausam</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li><li class="sad" id="s14">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l14">Ae Dil Hai Mushkil</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li><li class="sad" id="s15">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l15">Abhi Mujh Mein Kahin</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li><li class="sad" id="s16">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l16">Shayad</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li><li class="party" id="s17">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l17">Dil Ka Telephone</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li><li class="party" id="s18">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l18">Yeh Ishq Hai</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li><li class="party" id="s19">
                        <div class="song-details-left">
                               <div class="current-song-img"></div>
                               <div class="current-songname" id="l19">Deewangi Deewangi</div>
                           </div>
                           <div class="playicon"><i class="bi bi-play-circle"></i></div>
                       </li>
                </div>
            </div>
        </div>
        <div class="right">
            <nav>
                <div class="nav-bar">
                    <li class="phone-name">EchoBeat</li>
                    <li>Discover</li>
                    <li>About</li>
                </div>
            </nav>
            <div class="second-cont">
                <div class="second-part">
                    <div class="genre-list">
                        <li id="devotional">Devotional Songs</li>
                        <li id="romantic">Romantic Songs</li>
                        <li id="classical">Classical Songs</li>
                        <li id="retro">Retro Songs</li>
                        <li id="sad">Sad Songs</li>
                        <li id="party">Party Songs</li>
                    </div>
                    <div class="cool-image">
    
                    </div>
                </div>
            </div>
            <div class="popular-item">
                <div class="popular-heading">
                    Popular Songs
                </div>
                <div class="popular-songs">
                    <li id="p1">
                        <img src="./Image/Shri-Krishna-Govind-Hare-Murari.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Shri Krishna Govind</div>
                    </li>
                    <li id="p2">
                        <img src="./Image/Rai Jago Go.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Raai Jago</div>
                    </li>
                    <li id="p3">
                        <img src="./Image/Krishna bole.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Krishna Bole</div>
                    </li>
                    <li id="p4">
                        <img src="./Image/Mast Magan.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Mast Magan</div>
                    </li>
                    <li id="p5">
                        <img src="./Image/o rangrez.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">O Rangrez</div>
                    </li>
                    <li id="p6">
                        <img src="https://e24bollywood.com/wp-content/uploads/2022/11/1222222222.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Apna Banale</div>
                    </li>
                    <li id="p7">
                        <img src="./Image/Ghar More Pardesiya.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Ghar More Pardesiya</div>
                    </li>
                    <li id="p8">
                        <img src="./Image/Ae dil hai muskil.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Ae Dil Hai Mushkil</div>
                    </li>
                    <li id="p9">
                        <img src="./Image/dil-ka.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Dil Ka Telephone</div>
                    </li>
                    <li id="p10">
                        <img src="./Image/Hridoyer Rong.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Hridoyer Rong</div>
                    </li>
                    <li id="p11">
                        <img src="./Image/mere dholna.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Mere Dholna</div>
                    </li>
                    <li id="p12">
                        <img src="./Image/noor e khuda.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Noor E Khuda</div>
                    </li>
                    <li id="p13">
                        <img src="./Image/Om-Shanti-Omjpg.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Deewangi Deewangi</div>
                    </li>
                    <li id="p14">
                        <img src="./Image/mera geet amar kardo.jpg" height="100px"
                            width="100px" />
                        <div class="song-name">Mere Geet Amar Kardo</div>
                    </li>
                </div>
            </div>
        </div>
    </div>
    <div class="music-player">
        <div class="mplayer-left">
            <div class="song-details">
                <div class="playing-gif"></div>
                <div class="current-song-img"></div>
                <div class="current-songname">Shri Krishna Govind</div>
            </div>
            <div class="nav-buttons">
                <a href="#s19"><li class="back"><i class="bi bi-skip-start-fill"></i></li></a>
                <li class="play-pause"><i class="bi bi-play-fill"></i></li>
                <a href="#s2"><li class="next"><i class="bi bi-skip-end-fill"></i></li></a>
                <li><i class="bi bi-shuffle"></i></li>
            </div>
           <div class="musicmain">
             <div class="play-range"><input type="range" class="music-range-bar" id="mbar" value="0"></div>
            <div class="play-time">2:46</div>
           </div>
        </div>
        <div class="right-cont">
            <div class="mplayer-right">
                <div class="item-1">
                    <div class="sound-icon"><i class="bi bi-volume-up-fill"></i></div>
                    <div class="sound-range"><input type="range" class="sound-range-bar" id="sbar" value="100"></div>
                </div>
            </div>
            <div class="item-2">
                <div class="soud-value">100%</div>
            </div>
        </div>
    </div>
    </div>
</body>
<link rel="stylesheet" href="style.css">
<script src="https://code.jquery.com/jquery-3.6.1.js"integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="crossorigin="anonymous"></script>
<script>
    let music = document.getElementById("mbar");
    let sound = document.getElementById("sbar");
    function handleInputChange(e) {
        let target = e;
        target.style.backgroundSize = target.value + '% 100%';
    }
    music.addEventListener("change", () => {
        handleInputChange(music);
    })
    sound.addEventListener("change", () => {
        handleInputChange(sound);
        audio.volume = sound.value/100;
        $(".soud-value").html(sound.value + "%");
        if(sound.value==0){
            $(".sound-icon .bi").removeClass("bi-volume-up-fill").removeClass("volume-down-fill").addClass("bi-volume-mute-fill")
        }
        else if(sound.value<30){
            $(".sound-icon .bi").removeClass("bi-volume-mute-fill").removeClass("bi-volume-up-fill").addClass("bi-volume-down-fill")
        }
        else{
            $(".sound-icon .bi").removeClass("bi-volume-mute-fill").addClass("bi-volume-up-fill").removeClass("bi-volume-down-fill")
        }
    })
    let audio = document.getElementById("music-id");
    progress = document.getElementById("mbar");
    progress.addEventListener('change', ()=>{
        audio.currentTime = ((progress.value * audio.duration)/100 );

        barchange(progress);
 })
   audio.addEventListener('timeupdate',()=>{
    progress.value = (audio.currentTime/ audio.duration)*100;
    handleInputChange(progress);
    handleInputChange(music);
   })

function barchange(target)
{
let min = target.min;
let max = target.max;
let val = target.value;

target.style.backgroundSize = (val - min) * 100 / (max - min) + '% 100%';
}









</script>

<script>
    let songs = {
    "Shri Krishna Govind": "./musics/Shri Krishna Govind.mp3",
    "Raai Jago" : "./musics/RAAI JAGO.mp3",
    "Krishna Bole" : "./musics/Krishna Bole.mp3",
    "Mast Magan": "./musics/Mast Magan.mp3",
    "O Rangrez" : "./musics/O Rangrez.mp3",
    "Apna Bana Le" : "./musics/Apna Bana Le.mp3",
    "Dil Ka Telephone": "./musics/Dil Ka Telephone.mp3",
    "Yeh Ishq Hai" : "./musics/Yeh Ishq Hai.mp3",
    "Deewangi Deewangi" : "./musics/Deewangi Deewangi.mp3",
    "Ghar More Pardesiya": "./musics/Ghar More Pardesiya.mp3",
    "Hridoyer Rong" : "./musics/Hridoyer Rong.mp3",
    "Mere Dholna" : "./musics/Mere Dholna.mp3",
    "Noor E Khuda": "./musics/Noor E Khuda.mp3",
    "Ae Dil Hai Mushkil": "./musics/Ae Dil Hai Mushkil.mp3",
    "Abhi Mujh Mein Kahin": "./musics/ABHI MUJH MEIN KAHIN.mp3",
    "Shayad" : "./musics/Shayad.mp3",
    "Tujhse Naraz Nahi Zindagi": "./musics/Tujhse Naraz Nahi Zindagi.mp3",
    "Mere Geet Amar Kardo" : "./musics/Mere Geet Amar Kardo.mp3",
    "Yeh Raaten Yeh Mausam" : "./musics/Yeh Raaten Yeh Mausam.mp3"
    };
    const coverpictures =[
        "./Image/Shri-Krishna-Govind-Hare-Murari.jpg",
        "./Image/Rai Jago Go.jpg",
        "./Image/Krishna bole.jpg",
        "./Image/Mast Magan.jpg",
        "./Image/o rangrez.jpg",
        "./Image/apnabanale.webp",
        "./Image/Ghar More Pardesiya.jpg",
       "./Image/Hridoyer Rong.jpg",
        "./Image/mere dholna.jpg",
        "./Image/noor e khuda.jpg",
        "./Image/Tujhse Naraz.jpg",
        "./Image/mera geet amar kardo.jpg",
        "./Image/yeh raaten.webp",
        "./Image/Ae dil hai muskil.jpg",
        "./Image/abhi mujhme kahi.jpg",
        "./Image/shayad.jpg",
        "./Image/dil-ka.jpg",
       "./Image/Jab-We-Met-Hindi.jpg",
        "./Image/Om-Shanti-Omjpg.jpg",
    ]
    const relation ={
        "Shri Krishna Govind":"./Image/Shri-Krishna-Govind-Hare-Murari.jpg",
        "Raai Jago":"./Image/Rai Jago Go.jpg",
        "Krishna Bole":"./Image/Krishna bole.jpg",
        "Mast Magan":"./Image/Mast Magan.jpg",
        "O Rangrez":"./Image/o rangrez.jpg",
        "Apna Bana Le":"./Image/apnabanale.webp",
        "Ghar More Pardesiya":"./Image/Ghar More Pardesiya.jpg",
        "Hridoyer Rong":"./Image/Hridoyer Rong.jpg",
        "Mere Dholna":"./Image/mere dholna.jpg",
        "Noor E Khuda":"./Image/noor e khuda.jpg",
        "Tujhse Naraz Nahi Zindagi":"./Image/Tujhse Naraz.jpg",
        "Mere Geet Amar Kardo":"./Image/mera geet amar kardo.jpg",
        "Yeh Raaten Yeh Mausam":"./Image/yeh raaten.webp",
        "Ae Dil Hai Mushkil":"./Image/Ae dil hai muskil.jpg",
        "Abhi Mujh Mein Kahin":"./Image/abhi mujhme kahi.jpg",
        "Shayad":"./Image/shayad.jpg",
        "Dil Ka Telephone":"./Image/dil-ka.jpg",
        "Yeh Ishq Hai":"./Image/Jab-We-Met-Hindi.jpg",
        "Deewangi Deewangi":"./Image/Om-Shanti-Omjpg.jpg",
    }
    for(let i = 0;i<19;i++){
        let x = "s";
        x+=(i+1);
        console.log(x);
        let val = `url("${coverpictures[i]}")`;
        console.log(val);
        $("#" + x + " .song-details-left .current-song-img").css("background-image" , val);

    }
    let devotional = ["s1","s2","s3"];
    let romantic = ["s4", "s5","s6"];
    let classical = ["s7","s8","s9","s10"];
    let retro = ["s11","s12","s13"];
    let sad =["s14","s15","s16"];
    let party = ["s17","s18","s19"];

    let genre = ["devotional","romantic","classical","retro","sad","party"];
    let firstsongs = ["Shri Krishna Govind","Mast Magan","Ghar More Pardesiya","Tujhse Naraz Nahi Zindagi","Ae Dil Hai Mushkil","Dil Ka Telephone"];
    let activeid = ["s1","s4","s7","s11","s14","s17"];
    let current_id = "blank";
    function conv_duration(d){
        let s = "";
        min = Math.floor(d/60);
        sec= Math.round(d % 60);
        if(sec<10){
            sec = '0'+sec;
        }
        if(min<10){
            min = '0'+min;
        }
        s = min + ":" + sec;
        return s;
    }
    function play_music(songname){
                let audio = document.getElementById("music-id");
                let songsource = songs[songname];
                audio.src = songsource;
                audio.play();
                audio.onloadedmetadata = function() {
                    $(".play-time").html(conv_duration(audio.duration));
                  let val = `url("${relation[songname]}")`
                    $(".song-details .current-song-img").css("background-image" , val);
};
    }
    $(".genre-list li").click(function(){
         current_id = this.id;
        
        for(let i =0;i<6;i++){
            if(genre[i] == current_id){
                $(".playing-gif").css("background-image","url(./Image/EQ_accent.gif)");
                $("." + current_id).show();
                let firstsongname = firstsongs[i];
                play_music(firstsongname);

                if( $(".song-list li").hasClass("active")){
                    $( ".song-list li ").removeClass('active');
                }
                 $("#"+activeid[i]).addClass("active");

                 if($(".playicon .bi").hasClass("bi-pause-circle")){
                     $(".playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
                    }
                    $("#"+activeid[i] + " .playicon .bi").addClass("bi-pause-circle").removeClass("bi-play-circle");

                   adjustsongname(); 

                $(".nav-buttons .play-pause").html(`<i class="bi bi-play-fill"></i>`);
                $(".nav-buttons .play-pause").html(`<i class="bi bi-pause-fill"></i>`);
            }
            else{
                $("." + genre[i]).hide();
            }
        }

    })
    $(".song-list li").click(function(){
        $(".playing-gif").css("background-image","url(./Image/EQ_accent.gif)");
        console.log(this.id);
       activate(this.id)
        let songname = $("#"+this.id + " .song-details-left .current-songname").text();
       play_music(songname);
        if($(".playicon .bi").hasClass("bi-pause-circle")){
            $(".playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
        }
        $("#"+ this.id + " .playicon").html(`<i class="bi bi-pause-circle"></i>`)
        console.log($("#"+ this.id + " .playicon").html());
        $(".nav-buttons .play-pause").html(`<i class="bi bi-play-fill"></i>`);
        $(".nav-buttons .play-pause").html(`<i class="bi bi-pause-fill"></i>`);
        
        adjustsongname() ;
    })
   function activate(a){
    if( $(".song-list li").hasClass("active")){
        $( ".song-list li ").removeClass('active');
       }
        $("#"+a).addClass("active");
   }
    function adjustsongname(){
        let x = $(".active .song-details-left .current-songname").text();
         $(".song-details .current-songname").html(x);  
    }
    $(".play-pause").click(function(){
        play_pause_adjust();
    })
    function play_pause_adjust(){
        if($(".play-pause .bi").hasClass("bi-pause-fill")){
            $(".play-pause .bi").addClass("bi-play-fill").removeClass("bi-pause-fill");
            var audio = document.getElementById("music-id");
            audio.pause();
            $(".playing-gif").css("background-image","url(https://play-lh.googleusercontent.com/Idw4pKVR2uuwvs7QJmloKqquCqBsfNOw7s_XQ-rwZa_y0Cw9A6LpRfou6mJML1MgA7M)");
            $(".active .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
        }
        else{
            $(".play-pause .bi").removeClass("bi-play-fill").addClass("bi-pause-fill");
            var audio = document.getElementById("music-id");
            audio.play();
            $(".playing-gif").css("background-image","url(./Image/EQ_accent.gif)");
            $(".active .playicon .bi").addClass("bi-pause-circle").removeClass("bi-play-circle");
        }
    }
    $(".back").click(function(){
        if(current_id=="blank"){
            if(!$(".song-list li").hasClass("active")){
            current_song = party[party.length-1];
            console.log(current_song);
            current_song=songtolist(current_song);
            play_music( $("#"+current_song).html());
            activate("s19");
            $(this).parent().attr('href',"#s19")
            adjustsongname() ;
            play_pause_adjust();
            
         }
            else{
            let now = $(".active").attr('id');
            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = modfyid(now);
            $("#"+prev +" .playicon .bi").removeClass("bi-play-circle").addClass("bi-pause-circle");
            list=songtolist(prev);
            console.log(list);
            let current_song = $("#"+list).html();
            console.log(current_song);
            play_music(current_song);
            activate(prev);
            $(this).parent().attr('href',"#"+prev);
            adjustsongname();
         }
        }
        else{
            
            
            if(current_id == "devotional"){   
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";        
             prev = modfyid_with_condition(now,devotional);
             alltogether(prev);
            }
            else if(current_id == "romantic"){
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";    
             prev = modfyid_with_condition(now,romantic);
             alltogether(prev);
            }
            if(current_id == "classical"){
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";    
             prev = modfyid_with_condition(now,classical);
             alltogether(prev);
            }
           
            else if(current_id == "retro"){
                let now = $(".active").attr('id');
                console.log(now);
                // console.log(retro);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";   
             prev = modfyid_with_condition(now,retro);
             alltogether(prev);
            }
            else if(current_id == "sad"){
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";   
             prev = modfyid_with_condition(now,sad);
             alltogether(prev);
            }
            else if(current_id == "party"){
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";   
             prev = modfyid_with_condition(now,party);
             alltogether(prev);
            }
        }
    })


    $(".next").click(function(){
        if(current_id=="blank"){
            if(!$(".song-list li").hasClass("active")){
            current_song = devotional[1];
            console.log(current_song);
            current_song=songtolist(current_song);
            play_music( $("#"+current_song).html());
            activate("s2");
            $(this).parent().attr('href',"#s2")
            adjustsongname() ;
            play_pause_adjust();
            
         }
            else{
            let now = $(".active").attr('id');
            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = modfyid_incr(now);
            $("#"+prev +" .playicon .bi").removeClass("bi-play-circle").addClass("bi-pause-circle");
            list=songtolist(prev);
            console.log(list);
            let current_song = $("#"+list).html();
            console.log(current_song);
            play_music(current_song);
            activate(prev);
            $(this).parent().attr('href',"#"+prev);
            adjustsongname();
         }
        }
        else{
            
            
            if(current_id == "devotional"){   
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";        
             prev = modfyid_with_condition_incr(now,devotional);
             alltogether(prev);
            }
            else if(current_id == "romantic"){
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";    
             prev = modfyid_with_condition_incr(now,romantic);
             alltogether(prev);
            }
            if(current_id == "classical"){
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";    
             prev = modfyid_with_condition_incr(now,classical);
             alltogether(prev);
            }
           
            else if(current_id == "retro"){
                let now = $(".active").attr('id');
                console.log(now);
                // console.log(retro);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";   
             prev = modfyid_with_condition_incr(now,retro);
             alltogether(prev);
            }
            else if(current_id == "sad"){
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";   
             prev = modfyid_with_condition_incr(now,sad);
             alltogether(prev);
            }
            else if(current_id == "party"){
                let now = $(".active").attr('id');
            console.log(now);

            $("#"+now +" .playicon .bi").addClass("bi-play-circle").removeClass("bi-pause-circle");
            let prev = "";   
             prev = modfyid_with_condition_incr(now,party);
             alltogether(prev);
            }
        }
    })

    let turn = 0;
    let prev = "";
    let prev_id = "";
    $(".popular-songs li").click(function(){
        let this_id = this.id;
        let x = $("#"+this_id+ " .song-name").text();
        $(".song-details .current-songname").text(x);
        play_music(x);
        

        if(turn == 0){
        prev =  $("#"+this_id+ " img").attr("src");
        prev_id = this_id;
        $("#"+this_id+ " img").attr("src","./Image/EQ_accent.gif");
        $("#"+this_id+ " img").css("background-color","black");
        turn ++;
        play_pause_adjust();
        }
        else{
            $("#"+prev_id+ " img").attr("src",prev);
            prev =  $("#"+this_id+ " img").attr("src");
            prev_id = this_id;
            $("#"+this_id+ " img").attr("src","./Image/EQ_accent.gif");
            $("#"+this_id+ " img").css("background-color","black");
            
        }
    })























    function alltogether(prev){
        $("#"+prev +" .playicon .bi").removeClass("bi-play-circle").addClass("bi-pause-circle");
            list=songtolist(prev);
            console.log(list);
            let current_song = $("#"+list).html();
            console.log(current_song);
            play_music(current_song);
            activate(prev);
            $(this).parent().attr('href',"#"+prev);
            adjustsongname();
    }
    function songtolist(s){
        let res="l";
        for(i = 1;i<s.length;i++){
            res+=s[i];
        }
        return res;
    }
    function modfyid(s){
        let res = "s";
        let v =0;
        for(i = 1;i<s.length;i++){
            v +=(s[i].codePointAt(0)-48);
            v*=10;
        }
        v/=10;
        v--;
        if(v==0){
            v=19;
        }
        res += v;
        return res;
    }
    function modfyid_incr(s){
        let res = "s";
        let v =0;
        for(i = 1;i<s.length;i++){
            v +=(s[i].codePointAt(0)-48);
            v*=10;
        }
        v/=10;
        v++;
        if(v==20){
            v=1;
        }
        res += v;
        return res;
    }
    function modfyid_with_condition(s,arr){
       for(let i=0;i<arr.length;i++){
        if(arr[i] == s){
            if(i==0){
                i=arr.length;
            }
            return arr[i-1];
        }
       }
    }
    function modfyid_with_condition_incr(s,arr){
       for(let i=0;i<arr.length;i++){
        if(arr[i] == s){
            if(i==arr.length-1){
                i=-1;
            }
            return arr[i+1];
        }
       }
    }
    
</script>

</html>